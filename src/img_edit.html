<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PicEdit</title>
    <link rel="stylesheet" type="text/css" href="css/default.css">
    <link href="css/app.css" rel="stylesheet" type="text/css">
    <link href="css/crop.css" rel="stylesheet" type="text/css">
</head>
<body onload="initialize()">
<div id="contentWrapper">
    <div id="contentLeft">
        <ul id="leftNavigation">
            <li class="clickable">
                <a href="./homepage.html">Home</a>
            </li>
            <li class="active">
                <a href="#">PicEdit</a>
                <ul>
                    <li>
                        <a id="upload" onclick="chooseEditWay('upload')">Upload</a>
                    </li>
                    <li>
                        <a id="rotate" onclick="chooseEditWay('rotate')">Rotate</a>
                    </li>
                    <li>
                        <a id="crop" onclick="chooseEditWay('crop')">Crop</a>
                    </li>
                    <li>
                        <a id="sticker" onclick="chooseEditWay('sticker')">Sticker</a>
                    </li>
                </ul>
            </li>
        </ul>
    </div>

    <div id="contentRight">
        <iframe id="edit_iframe" src="./rotate.html" height=600 frameborder="0" style="height: 100%">
        </iframe>
    </div>

</div>

<script type="text/javascript" src="js/jquery-2.1.1.min.js"></script>
<script type="text/javascript" src="js/jquery.ssd-vertical-navigation.min.js"></script>
<script src="js/JquerySession.js"></script>
<script type="text/javascript">
    $(function () {
        $('#leftNavigation').ssdVerticalNavigation();
    });

    function initialize() {
        // window.screen.width 物理屏幕宽度
        $("#edit_iframe").css("width", window.screen.width - 250);
        chooseEditWay('upload');
    }

    function chooseEditWay(edit_way) {
        var iframe_src = document.getElementById("edit_iframe").src;

        if (edit_way === 'upload') {
            if (iframe_src !== './upload.html') {
                document.getElementById("edit_iframe").src = './upload.html';
            }
            $("#upload").css("color", "white");
            $("#rotate").css("color", "#adadad");
            $("#crop").css("color", "#adadad");
            $("#sticker").css("color", "#adadad")
        }
        else if (edit_way === 'rotate') {
            $.session.set('editPage', 'rotate');
            if (iframe_src !== './rotate.html') {
                document.getElementById("edit_iframe").src = './rotate.html';
            }
            $("#upload").css("color", "#adadad");
            $("#rotate").css("color", "white");
            $("#crop").css("color", "#adadad");
            $("#sticker").css("color", "#adadad")
        }
        else if (edit_way === 'crop') {
            $.session.set('editPage', 'crop');
            if (iframe_src !== './crop.html') {
                document.getElementById("edit_iframe").src = './crop.html';
            }
            $("#upload").css("color", "#adadad");
            $("#rotate").css("color", "#adadad");
            $("#crop").css("color", "white");
            $("#sticker").css("color", "#adadad")
        }
        else if (edit_way === 'sticker') {
            $.session.set('editPage', 'sticker');
            if (iframe_src !== './sticker.html') {
                document.getElementById("edit_iframe").src = './sticker.html'
            }
            $("#upload").css("color", "#adadad");
            $("#rotate").css("color", "#adadad");
            $("#crop").css("color", "#adadad");
            $("#sticker").css("color", "white")
        }
    }
</script>
</body>
</html>